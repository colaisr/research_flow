# Production Database Configuration

## Database Details

**Database Name:** `rf_prod`

**Database Password:** `y2%rTwmlMMu4` (generated by hosting provider)

**Database User:** `rf_prod` (to be created/configured)

**Comment:** Research Flow Production Database

## Remote Access Configuration

**Production Server IP:** `10.19.0.3`

**Remote Access Password:** `&rJx&kD86*EZ` (for remote connections from production server)

**Note:** This password is specifically for remote access from the production server IP address.

## Connection String Format

### Option 1: If MySQL is on same server (localhost)
```
mysql+pymysql://rf_prod:y2%rTwmlMMu4@localhost:3306/rf_prod?charset=utf8mb4
```

### Option 2: If MySQL is remote (from production server 10.19.0.3)
```
mysql+pymysql://rf_prod:&rJx&kD86*EZ@10.19.0.2:3306/rf_prod?charset=utf8mb4
```

**Important:** 
- Use `y2%rTwmlMMu4` for local connections (if MySQL is on same server)
- Use `&rJx&kD86*EZ` for remote connections from production server IP `10.19.0.3`
- **MySQL Server Host**: `10.19.0.2:3306` ✅

## Configuration for `config_local.py`

### If MySQL is on same server as application:
```python
MYSQL_DSN = "mysql+pymysql://rf_prod:y2%rTwmlMMu4@localhost:3306/rf_prod?charset=utf8mb4"
```

### If MySQL is remote (from production server):
```python
MYSQL_DSN = "mysql+pymysql://rf_prod:&rJx&kD86*EZ@10.19.0.2:3306/rf_prod?charset=utf8mb4"
```

**Important:** 
- Database password (`y2%rTwmlMMu4`) contains special characters (`%`)
- Remote access password (`&rJx&kD86*EZ`) contains special characters (`&`, `*`)
- Special characters should work with pymysql, but if issues occur, URL encode them:
  - `%` → `%25`
  - `&` → `%26`
  - `*` → `%2A`
- Save both passwords securely - needed for backend configuration
- Determine if MySQL is local or remote to choose the correct password

## Deployment Status

1. ✅ Database created: `rf_prod`
2. ✅ Remote access configured for production server IP: `10.19.0.3`
3. ✅ MySQL server location determined: Remote (`10.19.0.2:3306`)
4. ✅ Connection tested from production server (`10.19.0.3`)
5. ✅ `config_local.py` configured on production server with remote DSN
6. ✅ Migrations run: All 16 migrations applied successfully
7. ✅ Admin user created: `admin@rf.ru` / `1234`
8. ✅ Services running: Backend and Frontend active

## Server Access

**SSH Alias:** `rf-prod`

**Connection:** `ssh rf-prod`

**Server Details:**
- External IP: `84.54.30.222`
- Private IP: `10.19.0.3`
- Hostname: `zfeafctorr`
- OS: Ubuntu Linux
- User: `root`

**SSH Key:** `~/.ssh/id_research_flow` (passwordless access configured ✅)

## Security Notes

- Database password is stored in `config_local.py` (gitignored)
- Never commit `config_local.py` to git
- Use strong file permissions: `chmod 600 config_local.py`
- Consider using environment variables in production for extra security
- SSH key-based authentication configured for passwordless access

