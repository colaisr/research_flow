# Pipeline Editor UX Improvements

## Текущие проблемы

1. **Неправильная иерархия важности**
   - Технические настройки (модель, токены) занимают верхнюю часть
   - Главное (промпты) находится внизу
   - Пользователь должен прокручивать, чтобы добраться до основного

2. **Слишком много визуального шума**
   - Много заголовков секций с одинаковым весом
   - Избыточные объяснения и подсказки
   - Технические детали наравне с важными элементами

3. **Неочевидная структура**
   - Непонятно, что самое важное
   - Сложно быстро понять, что нужно сделать
   - Много кликов для базовых действий

## Предлагаемые улучшения

### 1. Переработанная структура (по приоритету)

```
┌─────────────────────────────────────────┐
│  ШАГ: [название шага]                   │
├─────────────────────────────────────────┤
│                                          │
│  📝 ПРОМПТЫ (главное, всегда видно)     │
│  ┌───────────────────────────────────┐ │
│  │ Системный промпт                   │ │
│  │ [текстовое поле]                   │ │
│  └───────────────────────────────────┘ │
│                                          │
│  ┌───────────────────────────────────┐ │
│  │ Пользовательский промпт            │ │
│  │ [переменные] {step1} {tool1}      │ │
│  │ [большое текстовое поле]           │ │
│  └───────────────────────────────────┘ │
│                                          │
│  ⚙️ Дополнительные настройки (collapsed)│
│  ▼ Модель: GPT-4o-mini | Температура: 0.7 │
│                                          │
└─────────────────────────────────────────┘
```

### 2. Ключевые изменения

#### A. Промпты - главное и первое
- **Системный промпт** и **Пользовательский промпт** - в самом верху
- Большие, удобные текстовые поля
- Палитра переменных интегрирована прямо в редактор промпта
- Минимум визуального шума вокруг

#### B. Технические настройки - свернуты по умолчанию
- Секция "Дополнительные настройки" (collapsible)
- По умолчанию свернута, показывает только краткую сводку:
  - "Модель: GPT-4o-mini | Температура: 0.7 | Токены: 2000"
- При разворачивании показывает все настройки

#### C. Упрощенная палитра переменных
- Компактная, не занимает много места
- Интегрирована в редактор промпта (может быть как dropdown при клике на {})
- Или как небольшая панель над редактором

#### D. Визуальная иерархия
- **Крупные элементы**: Промпты (главное)
- **Средние элементы**: Палитра переменных
- **Мелкие элементы**: Технические настройки (свернуты)

### 3. Детальная структура

#### Секция 1: Промпты (всегда видно, главное)
```
┌─────────────────────────────────────┐
│ Системный промпт                     │
│ ┌─────────────────────────────────┐ │
│ │ Вы эксперт-аналитик.            │ │
│ └─────────────────────────────────┘ │
│                                      │
│ Пользовательский промпт              │
│ [Переменные: {step1_output} {tool1}]│
│ ┌─────────────────────────────────┐ │
│ │                                   │ │
│ │ [большое поле для промпта]       │ │
│ │                                   │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

#### Секция 2: Дополнительные настройки (collapsible)
```
┌─────────────────────────────────────┐
│ ⚙️ Дополнительные настройки          │
│   Модель: GPT-4o-mini | 0.7 | 2000  │
└─────────────────────────────────────┘
```

При разворачивании:
```
┌─────────────────────────────────────┐
│ ⚙️ Дополнительные настройки          │
│                                      │
│ Модель: [GPT-4o-mini ▼]             │
│ Температура: [slider] 0.7            │
│ Макс. токенов: [2000]                │
└─────────────────────────────────────┘
```

### 4. Улучшения палитры переменных

**Вариант A: Компактная панель**
```
Переменные: {step1_output} | {step2_output} | {tool1} | {tool2}
```

**Вариант B: Dropdown при клике на {}**
- В редакторе промпта при вводе `{` показывается автодополнение
- Или кнопка "Вставить переменную" рядом с полем

**Вариант C: Боковая панель (для больших экранов)**
- Небольшая панель справа от редактора
- Всегда видна, не мешает

### 5. Упрощение карточек шагов

**Текущее:**
- Много информации на карточке
- Кнопки "Настроить", "Удалить"
- Бейджи и метки

**Предложение:**
- Минималистичная карточка: название + краткая информация
- При клике - разворачивается панель настроек
- Иконки вместо текста на кнопках

### 6. Быстрое добавление шагов

**Текущее:**
- Поле ввода + кнопка "Добавить"
- Объяснение под полем

**Предложение:**
- Более заметное поле ввода
- Возможно, inline добавление (шаг появляется сразу, можно сразу начать писать промпт)
- Меньше текста, больше действия

## Приоритеты реализации

### Высокий приоритет (критично для UX):
1. ✅ Переместить промпты наверх
2. ✅ Свернуть технические настройки
3. ✅ Упростить палитру переменных

### Средний приоритет (улучшит опыт):
4. Улучшить карточки шагов
5. Оптимизировать добавление шагов
6. Улучшить визуальную иерархию

### Низкий приоритет (nice to have):
7. Автодополнение переменных
8. Предпросмотр промпта
9. Валидация в реальном времени

## Примеры улучшений

### До:
```
┌─ НАСТРОЙКИ МОДЕЛИ ─────────────────┐
│ Модель: [GPT-4o-mini ▼]           │
│ Макс. токенов: [2000]              │
│ Креативность: [slider]             │
└────────────────────────────────────┘

┌─ СИСТЕМНЫЙ ПРОМПТ ─────────────────┐
│ [маленькое поле]                   │
└────────────────────────────────────┘

┌─ ПОЛЬЗОВАТЕЛЬСКИЙ ПРОМПТ ──────────┐
│ [переменные]                       │
│ [поле]                             │
└────────────────────────────────────┘
```

### После:
```
┌─ ПРОМПТЫ ──────────────────────────┐
│ Системный:                         │
│ [большое поле]                     │
│                                    │
│ Пользовательский:                  │
│ {step1} {tool1} [большое поле]    │
└────────────────────────────────────┘

┌─ ⚙️ Дополнительно ─────────────────┐
│ Модель: GPT-4o-mini | 0.7 | 2000  │
└────────────────────────────────────┘
```

## Метрики успеха

- **Скорость создания шага**: < 30 секунд от клика до готового промпта
- **Понятность**: Пользователь понимает структуру с первого взгляда
- **Меньше кликов**: Все важное видно сразу, не нужно разворачивать
- **Фокус на главном**: 80% времени пользователь работает с промптами

